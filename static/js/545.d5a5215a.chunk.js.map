{"version":3,"file":"static/js/545.d5a5215a.chunk.js","mappings":"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","sources":["api/themoviedb.jsx","components/DetailsEl/DetailsEl.module.css","components/DetailsEl/DetailsEl.jsx","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","webpack://react-homework-template/./src/components/GoBack/GoBack.module.css?848c","components/GoBack/GoBack.jsx","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '34a3f3c9cce4f4b9cc46f3708ad7a6e9';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\naxios.defaults.headers = 'Access-Control-Allow-Origin';\n\nexport const fetchTrends = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results;\n  } catch (error) {\n    window.alert('fetch trend');\n  }\n};\n\nexport const fetchData = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?${API_KEY}query=${query}`);\n\n    return data.results;\n  } catch (error) {\n    window.alert(error);\n    return [];\n  }\n};\n\nexport const fetchMovieDetails = async id => {\n  try {\n    const { data } = await axios.get(`/movie/${id}`);\n    return data;\n  } catch (error) {\n    window.alert(error);\n    return [];\n  }\n};\n\nexport const fetchMovieImage = async id => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/images`);\n    return data;\n  } catch (error) {\n    window.alert(error);\n    return [];\n  }\n};\n\nexport const fetchMovieReview = async id => {\n  try {\n    const { data } = await axios.get(`/movie/${id}/reviews`);\n    return data;\n  } catch (error) {\n    window.alert(error);\n  }\n};\n\nexport const fetchMovieCast = async id => {\n  try {\n    const { data } = await axios.get(`movie/${id}/credits`);\n    return data.cast;\n  } catch (error) {\n    window.alert(error);\n  }\n};\n\nexport const fetchMovieByQuery = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n    return data.results;\n  } catch (error) {\n    window.alert(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {};","import css from './DetailsEl.module.css';\nimport PropTypes from 'prop-types';\nconst DetailsEl = ({ title, text, author }) => {\n  if (!text) {\n    return (\n      <div>\n        <h2>{title}</h2>\n        <div>We don't have any reviews for this movie.</div>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <h2 className={css.title}>{title}</h2>\n      {author && <h3>Author: {author}</h3>}\n      <div className={css.text}>{text}</div>\n    </div>\n  );\n};\n\nexport default DetailsEl;\n\nDetailsEl.propTypes = {\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import { RotatingLines } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nexport const Loader = () => {\n  return (\n    <div className={css.loader}>\n      <RotatingLines\n        strokeColor=\"grey\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"96\"\n        visible={true}\n      />\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"MovieDetails_img__D3WH9\",\"container\":\"MovieDetails_container__o8VqJ\",\"ul\":\"MovieDetails_ul__LdwzG\",\"add_info\":\"MovieDetails_add_info__QvzK+\"};","// extracted by mini-css-extract-plugin\nexport default {\"p\":\"GoBack_p__fDtif\",\"button\":\"GoBack_button__Uzw5a\"};","import { Link } from 'react-router-dom';\n\nimport css from './GoBack.module.css';\n\nconst GoBack = ({ to }) => {\n  return (\n    <Link className={css.button} to={to}>\n      ← Go back\n    </Link>\n\n    //  <button to={to} onClick={() => navigate(to.state?.from ?? '/')}>\n    //   ← Goo back\n    // </button>\n  );\n};\n\nexport default GoBack;\n","import { useState, useEffect } from 'react';\nimport { Loader } from 'components/Loader/Loader';\nimport { fetchMovieDetails } from 'api/themoviedb';\nimport { Link, useParams } from 'react-router-dom';\nimport DetailsEl from 'components/DetailsEl/DetailsEl';\nimport css from './MovieDetails.module.css';\nimport { Outlet } from 'react-router-dom';\nimport GoBack from 'components/GoBack/GoBack';\nimport { useLocation } from 'react-router-dom';\n\nconst unknownImage =\n  'https://images.prewarcar.com/pics/r2w-1200x800-products/3240/Paris_movie_2008_503RB.jpg';\n\nconst MovieDeatails = () => {\n  const { moviesId } = useParams();\n  const [movieDetails, setMovieDetails] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    setIsLoading(true);\n    const getMovieDetails = async () => {\n      try {\n        const data = await fetchMovieDetails(moviesId);\n        setMovieDetails(data);\n      } catch (error) {\n        console.log('error', error);\n        setMovieDetails([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieDetails();\n  }, [moviesId]);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (!movieDetails) {\n    return (\n      <div>\n        <Loader />\n      </div>\n    );\n  }\n\n  const genrsEls = (\n    <ul className={css.ul}>\n      {movieDetails.genres.map(genre => (\n        <li key={genre.id}>{genre.name}</li>\n      ))}\n    </ul>\n  );\n  const backLinkHref = location.state?.from ?? '/';\n  return (\n    <div className={css.section}>\n      <GoBack className={css.button} to={backLinkHref} />\n      <div className={css.container}>\n        <img\n          className={css.img}\n          src={\n            movieDetails.poster_path\n              ? `https://image.tmdb.org/t/p/w500/${movieDetails.poster_path}`\n              : unknownImage\n          }\n          alt={`movie's name: ${movieDetails.title}`}\n        />\n        <div>\n          <DetailsEl title={'Overview'} text={movieDetails.overview} />\n\n          <DetailsEl\n            title={movieDetails.title}\n            text={`User score: ${movieDetails.vote_average * 10} % `}\n          />\n          <DetailsEl title={'Genres'} text={genrsEls} />\n        </div>\n      </div>\n      <div className={css.add_info}>\n        <h2>Additional information</h2>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"review\">Review</Link>\n          </li>\n        </ul>\n      </div>\n      {/* <Suspense\n        fallback={\n          <div>\n            <Loader />\n          </div>\n        }\n      ></Suspense> */}\n      <Outlet moviesId={moviesId} />\n    </div>\n  );\n};\n\nexport default MovieDeatails;\n"],"names":["API_KEY","axios","defaults","baseURL","params","api_key","language","headers","fetchTrends","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","get","sent","abrupt","results","t0","window","alert","stop","apply","arguments","fetchMovieDetails","_ref3","_callee3","id","_yield$axios$get3","_context3","concat","_x2","fetchMovieReview","_ref5","_callee5","_yield$axios$get5","_context5","_x4","fetchMovieCast","_ref6","_callee6","_yield$axios$get6","_context6","cast","_x5","fetchMovieByQuery","_ref7","_callee7","query","_yield$axios$get7","_context7","_x6","title","text","author","_jsxs","children","_jsx","className","css","Loader","RotatingLines","strokeColor","strokeWidth","animationDuration","width","visible","to","Link","_location$state$from","_location$state","moviesId","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","isLoading","setIsLoading","location","useLocation","useEffect","getMovieDetails","console","log","finish","genrsEls","ul","genres","map","genre","name","backLinkHref","state","from","section","GoBack","button","container","img","src","poster_path","alt","DetailsEl","overview","vote_average","add_info","Outlet"],"sourceRoot":""}